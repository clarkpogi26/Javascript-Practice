<!DOCTYPE html>
<html>
<head><title>Rock Paper Scissors</title></head>
<body>
  <p>Rock Paper Scissors</p>

  <button onclick="playGame('rock')">Rock</button>
  <button onclick="playGame('paper')">Paper</button>
  <button onclick="playGame('scissors')">Scissors</button>
  <button onclick="resetScore()">Reset</button>
  <button onclick="setLimit(5)">5</button>
  <button onclick="setLimit(10)">10</button>
  <button onclick="setLimit(15)">15</button>
  <button onclick="setLimit(20)">20</button>

  <script>
    const score = { wins: 0, losses: 0, ties: 0 };
    let limit = 10;

    function setLimit(value) {
      limit = Number(value);
    }

    function playGame(playerMove) {
      const moves = ['rock', 'paper', 'scissors'];
      const computerMove = moves[Math.floor(Math.random() * 3)];
      let result = '';

      if (playerMove === computerMove) result = 'tie';
      else if (
        (playerMove === 'rock' && computerMove === 'scissors') ||
        (playerMove === 'paper' && computerMove === 'rock') ||
        (playerMove === 'scissors' && computerMove === 'paper')
      ) result = 'you win';
      else result = 'you lose';

      if (result === 'you win') score.wins++;
      else if (result === 'you lose') score.losses++;
      else score.ties++;


      alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}.
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);

      checkGameEnd();
    }

    function checkGameEnd() {
      if (score.wins === limit || score.losses === limit) {
        alert(`Game Over. ${score.wins === limit ? 'YOU WIN!' : 'YOU LOST!'}\nFinal score - Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
        resetScore(false);
      }
    }

    function resetScore(showResult = true) {
      if (showResult) {
        const outcome = score.wins > score.losses ? 'YOU WIN!' :
                        score.losses > score.wins ? 'YOU LOST!' : 'IT\'S A TIE!';
        alert(`Score has been reset.\nFinal score - Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}\n${outcome}`);
      }
      score.wins = score.losses = score.ties = 0;
    }
  </script>
</body>
</html>